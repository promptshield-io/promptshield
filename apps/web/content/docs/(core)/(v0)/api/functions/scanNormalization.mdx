[**@promptshield/core**](../index.md)

***

[@promptshield/core](../index.md) / scanNormalization

# Function: scanNormalization()

> **scanNormalization**(`text`, `options?`, `context?`): [`ThreatReport`](../interfaces/ThreatReport.md)[]

Defined in: [normalization.ts:37](https://github.com/promptshield-io/promptshield/blob/main/packages/core/src/normalization.ts#L37)

Unicode normalization detector.

Detects characters that change under NFKC normalization.

Unicode normalization can transform visually similar characters
into canonical equivalents. When user-visible text differs from
its normalized form, this may indicate:

- spoofing attempts
- homoglyph confusion
- prompt-smuggling techniques
- content-validation bypass

Detection model:
- Compare each character against its NFKC-normalized form
- Group adjacent normalization-sensitive characters into a span
- Emit one threat per span

NOTE:
This is intentionally heuristic. Many normalization changes are
legitimate in multilingual text, but normalization-sensitive spans
in prompts or code should be surfaced for inspection.

Span semantics:
  offendingText = original span
  decodedPayload = normalized span

## Parameters

### text

`string`

### options?

[`ScanOptions`](../interfaces/ScanOptions.md) = `{}`

### context?

[`ScanContext`](../interfaces/ScanContext.md) = `{}`

## Returns

[`ThreatReport`](../interfaces/ThreatReport.md)[]
